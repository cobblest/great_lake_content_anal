install.packages("Rweibo", repos = "http://jliblog.com/cran")
install.packages("Rweibo", repos = "http://jliblog.com/cran")
install.packages("RCurl")
install.packages(rjson)
install.packages(XML)
install.packages("rjson")
install.packages("XML")
install.packages("Rweibo", repos = "http://R-Forge.R-project.org")
require(Rweibo)
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
roauth <- createOAuth("test", "cobblest")
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
deleteApp("mytest")
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
roauth <- createOAuth("mytest", "cobblest")
roaut
roauth
res1 <- statuses.public_timeline(roauth, count = 5)
res1[[1]]
res11 <- web.search.content("cobblest", page = 2, combinewith = NULL)
res11
res11 <- web.search.content("拐卖", page = 2, combinewith = NULL)
res11
res11 <- web.search.content("拐卖", page = 2, combinewith = NULL)
research
res11
res11 <- web.search.content("急寻2011年", page = 2, combinewith = NULL)
res11
res11 <- web.search.content("寻找失踪宝贝", page = 2, combinewith = NULL)
res11
help("reglex")
help("regex")
regex
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
require(Rweibo)
install.packages("Rweibo", repos = "http://R-Forge.R-project.org")
install.packages("RCurl")
install.packages(rjson)
install.packages(XML)
install.packages("RCurl")
require(Rweibo)
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
res1 <- statuses.public_timeline(roauth, count = 5)
roauth <- createOAuth("mytest", "cobblest")
res1 <- statuses.public_timeline(roauth, count = 5)
res1
res11 <- web.search.content("谁能告诉我", page = 2, combinewith = NULL)
res11
summary(res11)
help(web.search.content)
res11 <- web.search.content("宝贝回家", page = 5, combinewith = NULL)
roauth <- createOAuth("mytest", "cobblest")
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
require(Rweibo)
registerApp(app_name="mytest","879355896","d98286a04d94b049d60c3265cb38146e")
roauth <- createOAuth("mytest", "cobblest")
res11 <- web.search.content("宝贝回家", page = 5, combinewith = NULL)
research1
res11
summary(res11)
res11.Weibo
res11$Weibo
MID
res11.MID
res11$MID
res11$MID(end)
res11$MID(end,)
res11$MID(length(res11$MID))
res11$MID(nrows(res11$MID))
news(res1$MID)
nrows(res1$MID)
nrow(res1$MID)
nrow(res11$MID)
res11$MID
nrow(res11)
help(web.search.content)
Weibo.posts <- web.search.content("宝贝回家", page = 5, combinewith = NULL, sleepmean==,sleepsd=0)
Weibo.posts <- web.search.content("宝贝回家", page = 5, combinewith = NULL, sleepmean=0,sleepsd=0)
lastMID=Weibo.posts$MID(100)
lastMID=Weibo.posts$MID[100]
Weibo.posts<- web.search.content("宝贝回家", page = 5, combinewith=Weibo.posts, sinceID = listMID, sleepmean==,sleepsd=0)
Weibo.posts<- web.search.content("宝贝回家", page = 5, combinewith=Weibo.posts, sinceID = listMID, sleepmean=0,sleepsd=0)
Weibo.posts<- web.search.content("宝贝回家", page = 5, combinewith=Weibo.posts, sinceID = lastMID, sleepmean=0,sleepsd=0)
Weibo.posts<- web.search.content("宝贝回家", page = 5, combinewith=Weibo.posts, sinceID = lastMID, sleepmean=0,sleepsd=0)
Weibo.posts$MID[100]
res2<- web.search.content("宝贝回家", page = 5, combinewith=Weibo.posts, sinceID = lastMID, sleepmean=0,sleepsd=0)
res2<- web.search.content("宝贝回家", page = 5, combinewith=Weibo.posts, sleepmean=0,sleepsd=0)
res1<- web.search.content("宝贝回家", page = 5, combinewith = NULL, sleepmean=0,sleepsd=0,since=2013-03-01)
res1<- web.search.content("宝贝回家", page = 5, combinewith = NULL, sleepmean=0,sleepsd=0,since="2013-03-01")
res2<- web.search.content("宝贝回家", page = 5, combinewith=res1,sleepmean=0,sleepsd=0)
res1<- web.search.content("宝贝回家", page = 5, combinewith=res1,sleepmean=0,sleepsd=0)
res1<- web.search.content("宝贝回家", page = 5, combinewith=res1,sleepmean=0,sleepsd=0,since="2013-03-01")
res1<- web.search.content("宝贝回家", page = 5, combinewith = NULL, sleepmean=0,sleepsd=0,since="2013-03-01")
lastMID<-res1$MID[100]
res2<- web.search.content("宝贝回家", page = 5, combinewith = res1, sleepmean=0,sleepsd=0,since=2013-03-01,sinceID=lastMID)
res2<- web.search.content("宝贝回家", page = 5, combinewith = res1, sleepmean=0,sleepsd=0,since="2013-03-01",sinceID=lastMID)
View(res1)
View(res1)
View(res2)
res11 <- web.search.content("宝贝回家", page = 2, combinewith = NULL)
res12 <- web.search.content("宝贝回家", page = 2, combinewith = res11)
View(res11)
View(res12)
help(friendship.followers)
fs<-friendships.followers(roauth,"cobblest", count=20 )
fix(fs)
fix(fs)
fix(fs)
fs
fs<-friendships.followers("mystest","cobblest", count=20 )
fs<-friendships.followers(roauth,id=cobblest, count=20 )
fs<-friendships.followers(roauth,id="cobblest", count=20 )
fs
fs<-friendships.followers(roauth,"cobblest", count=20 )
fs
fs$users
showWeibo <- function(screen_name,roauth=ro)
{
state <- sub("my_p1", screen_name, "statuses.user_timeline(roauth,screen_name='cobblest',count=100)");
x <- eval(parse(text=state));
sapply(x,function(x) c(id=x$id,text=x$text));
}
showWeibo
showWeibo("cobblest","mytest")
showWeibo("cobblest")
showWeibo("cobblest",roauth="mytest")
showWeibo("cobblest",roauth)
res1<-showWeibo("cobblest",roauth)
View(res1)
showWeibo <- function(screen_name,roauth)
{
state <- sub("cobblest", screen_name, "statuses.user_timeline(roauth,screen_name='cobblest',count=100)");
x <- eval(parse(text=state));
sapply(x,function(x) c(id=x$id,text=x$text));
}
res1<-showWeibo
res1
View(res12)
res1<-showWeibo("cobblest",roauth)
View(res1)
help(sub)
help(eval)
require(Rwordseg)
res11 <- web.search.content("宝贝回家", page = 2, combinewith = NULL)
res11 <- web.search.content("宝贝回家", page = 2, combinewith = res11)
res12 <- web.search.content("宝贝回家", page = 2, combinewith = res11)
View(res11)
View(res11)
View(res12)
twitterR
install.packages("twitterR")
install.packages("twitteR")
library("twitteR", lib.loc="/Library/Frameworks/R.framework/Versions/2.15/Resources/library")
library(twitteR)
help twitteR
help(twitteR)
lianyue <- getUser('lianyue')
cred <- OAuthFactory$new(consumerKey=a4964OrDvQ7MIMwEn6dmcA,
consumerSecret=eVWMHiTuqLvVAsmbWFNSKBp6f7NqbUvDyuebDkw3I,
requestURL='https://api.twitter.com/oauth/request_token,
accessURL='http://api.twitter.com/oauth/access_token'',
authURL='http: // api.twitter.com/oauth/authorize')
cred$handshake()
cred <- OAuthFactory$new(consumerKey=a4964OrDvQ7MIMwEn6dmcA,
consumerSecret=eVWMHiTuqLvVAsmbWFNSKBp6f7NqbUvDyuebDkw3I,
requestURL='https://api.twitter.com/oauth/request_token',
accessURL='http://api.twitter.com/oauth/access_token',
authURL='http: // api.twitter.com/oauth/authorize')
cred$handshake()
install.packages("ROAuth")
library("ROAuth", lib.loc="/Library/Frameworks/R.framework/Versions/2.15/Resources/library")
library(twitteR)
library(ROAuth)
cred <- OAuthFactory$new(consumerKey=a4964OrDvQ7MIMwEn6dmcA,
consumerSecret=eVWMHiTuqLvVAsmbWFNSKBp6f7NqbUvDyuebDkw3I,
requestURL='https://api.twitter.com/oauth/request_token',
accessURL='http://api.twitter.com/oauth/access_token',
authURL='http: // api.twitter.com/oauth/authorize')
cred$handshake()
cred <- OAuthFactory$new(consumerKey="a4964OrDvQ7MIMwEn6dmcA",
consumerSecret="eVWMHiTuqLvVAsmbWFNSKBp6f7NqbUvDyuebDkw3I",
requestURL="https://api.twitter.com/oauth/request_token",
accessURL="http://api.twitter.com/oauth/access_token",
authURL="http: // api.twitter.com/oauth/authorize")
cred$handshake()
cred <- OAuthFactory$new(consumerKey="a4964OrDvQ7MIMwEn6dmcA",
consumerSecret="eVWMHiTuqLvVAsmbWFNSKBp6f7NqbUvDyuebDkw3I",
requestURL="https://api.twitter.com/oauth/request_token",
accessURL="http://api.twitter.com/oauth/access_token",
authURL="http: // api.twitter.com/oauth/authorize")
cred$handshake()
cred <- OAuthFactory$new(consumerKey="a4964OrDvQ7MIMwEn6dmcA",
consumerSecret="eVWMHiTuqLvVAsmbWFNSKBp6f7NqbUvDyuebDkw3I",
requestURL="https://api.twitter.com/oauth/request_token",
accessURL="http://api.twitter.com/oauth/access_token",
authURL="http: // api.twitter.com/oauth/authorize")
cred$handshake()
help(Rcurl)
help(RCurl)
install.packages("RCurl")
library("RCurl", lib.loc="/Library/Frameworks/R.framework/Versions/2.15/Resources/library")
install.packages("animation", repos = "http://cran.cnr.berkeley.edu/", dependencies = TRUE)
library('igraph')
library('cluster')
library('animation')
install.packages("NetData")
data(studentnets.M182, package = "NetData")
m182_full_nonzero_edges <- subset(m182_full_data_frame, (friend_tie > 0 | social_tie > 0 | task_tie > 0))
head(m182_full_nonzero_edges)
m182_full <- graph.data.frame(m182_full_nonzero_edges)
summary(m182_full)
m182_friend <- delete.edges(m182_full, E(m182_full)[get.edge.attribute(m182_full,name = "friend_tie")==0])
m182_social <- delete.edges(m182_full, E(m182_full)[get.edge.attribute(m182_full,name = "social_tie")==0])
summary(m182_social)
m182_task <- delete.edges(m182_full, E(m182_full)[get.edge.attribute(m182_full,name = "task_tie")==0])
summary(m182_task)
friend_layout <- layout.fruchterman.reingold(m182_friend)
plot(m182_friend, layout=friend_layout, edge.arrow.size=.5)
social_layout <- layout.fruchterman.reingold(m182_social)
plot(m182_social, layout=social_layout, edge.arrow.size=.5)
task_layout <- layout.fruchterman.reingold(m182_task)
plot(m182_task, layout=task_layout, edge.arrow.size=.5)
m182_friend_und <- as.undirected(m182_friend, mode='collapse')
m182_friend_no_iso <- delete.vertices(m182_friend_und, V(m182_friend_und)[degree(m182_friend_und)==0])
summary(m182_friend)
summary(m182_friend_no_iso)
friend_comm_wt <- walktrap.community(m182_friend_no_iso, steps=200,modularity=TRUE,labels=TRUE)
friend_comm_wt
friend_comm_wt <- walktrap.community(m182_friend_no_iso, steps=200,modularity=TRUE,labels=TRUE)
friend_comm_wt <- walktrap.community(m182_friend_no_iso, steps=200,modularity=TRUE)
friend_comm_wt
friend_comm_dend <- as.dendrogram(friend_comm_wt, use.modularity=TRUE)
plot(friend_comm_dend)
library(igraph)
firned_comm_wt
friend_comm_wt
summary(friend_comm_wt)
help(walktrap.community)
sizes(friend_comm_wt)
print(friend_comm_wt)
membership(friend_comm_wt)
modularity(friend_comm_wt
)
algorithm(friend_comm_wt)
summary(m182_full_data_frame)
m182_full_data_frame
community <- community.to.membership(m182_friend_no_iso, friend_comm_eb$merges, i)
friend_comm_eb <- edge.betweenness.community(m182_friend_no_iso)
community <- community.to.membership(m182_friend_no_iso, friend_comm_eb$merges, i)
community <- community.to.membership(m182_friend_no_iso, friend_comm_eb$merges, 1)
community
community <- community.to.membership(m182_friend_no_iso, friend_comm_eb$merges, 2)
community
help(community.to.membership)
friend_comm_wt <- walktrap.community(m182_friend_no_iso, steps=200,modularity=TRUE,labels=TRUE)
friend_comm_wt
friend_comm_dend <- as.dendrogram(friend_comm_wt, use.modularity=TRUE)
plot(friend_comm_dend)
friend_comm_pro <- propagation.community(m182_friend_no_iso)
friend_comm_pro <- label.propagation.community(m182_friend_no_iso)
plot(as.dendrogram(friend_comm_pro))
friend_comm_pro
friend_comm_eb
friend_comm_wt
plot(friend_comm_dend)
plot(as.dendrogram(friend_comm_eb))
plot(friend_comm_dend)
plot(as.dendrogram(friend_comm_eb))
friend_comm_eb
plot(m182_friend, layout=friend_layout, edge.arrow.size=.5)
studentnets.M182
m182_full_data_frame
plot(as.dendrogram(friend_comm_eb))
plot(as.dendrogram(friend_comm_pro))
plot(friend_comm_pro)
friend_comm_pro
install.packages("gdata")
library(gdata)
install.packages("xlsx")
library(xlsx)
install.packages("rJava")
library(rJava)
install.packages("rJava")
setwd("~/Dropbox/Research/Great Lake 2013/Content_anal/interview_sample/tweets_interview")
data.all<-data.frame()
codes<-c("education/tools","media","news","special day","website/organization update","conversation","recognition and thanks","other organization","reporter",
"live tweeting","call for action","event","fundraising","advocacy","social media campaign")
data<-read.xls("twitter_coding.xlsx",sheet=1,header=TRUE)
library(xlsx)
data<-read.xls("twitter_coding.xlsx",sheet=1,header=TRUE)
data<-read.xlsx("twitter_coding.xlsx",sheet=1,header=TRUE)
for (i in 1:20){
data.all<-rbind(data.all,read.xls("twitter_coding.xlsx",sheet=i,header=FALSE))
}
library(gdata)
data<-read.xls("twitter_coding.xlsx",sheet=1,header=TRUE)
for (i in 1:20){
data.all<-rbind(data.all,read.xls("twitter_coding.xlsx",sheet=i,header=FALSE))
}
data.all$RT<-factor(data.all$RT)
data.all$MT<-factor(data.all$MT)
data.all$photo<-factor(data.all$photo)
data.all$link<-factor(data.all$link)
data.all$Code<-factor(data.all$Code)
data.all$Retweet<-as.numeric(data.all$Retweet)
names(data.all)<-names(data)
data.all<-data.all[which(data.all$Code %in% codes),]
data.all$RT<-factor(data.all$RT)
data.all$MT<-factor(data.all$MT)
data.all$photo<-factor(data.all$photo)
data.all$link<-factor(data.all$link)
data.all$Code<-factor(data.all$Code)
data.all$Retweet<-as.numeric(data.all$Retweet)
fit <- lm(Retweet ~ Code +Hashtags + Reply + RT + at + photo + link, data=data.all)
summary(fit) # show results
fit <- lm(Favorite ~ Code +Hashtags + Reply + RT + at + photo + link, data=data.all)
summary(fit) # show results
levels(Code)
levels(Codes)
levels(data.all$Code)
levels(data.all$Hashtags)
levels(data.all$Reply)
data.all$Reply
data.all$Reply<-factor(data.all$Reply)
fit <- lm(Retweet ~ Code +Hashtags + Reply + RT + at + photo + link, data=data.all)
summary(fit) # show results
fit <- lm(Favorite ~ Code +Hashtags + Reply + RT + at + photo + link, data=data.all)
summary(fit) # show results
data.all$Favortie
data.all$Favorite
data.all$Favorite<-as.numeric(data.all$Favorite)
fit <- lm(Favorite ~ Code +Hashtags + Reply + RT + at + photo + link, data=data.all)
summary(fit) # show results
setwd("F:/study/YY/Dropbox/Research/Great Lake 2013/Content_anal/interview_sample/fbs_interview")
setwd("~/Dropbox/Research/Great Lake 2013/Content_anal/interview_sample/fbs_interview")
fb.all<-data.frame()
twitter.all<-data.all
data<-read.xls("fb_coding.xlsx",sheet=1,header=TRUE)
for (i in 1:23){
fb.all<-rbind(fb.all,read.xls("fb_coding.xlsx",sheet=i,header=FALSE))
}
data<-read.xls("fb_coding.xlsx",sheet=1,header=TRUE)
data<-read.xls("facebook_coding.xlsx",sheet=1,header=TRUE)
for (i in 1:23){
fb.all<-rbind(fb.all,read.xls("facebook_coding.xlsx",sheet=i,header=FALSE))
}
names(fb.all)<-names(data)
fb.all<-data.all[which(fb.all$Code %in% codes),]
fb.all
summary(data)
names(data)
for (i in 1:23){
fb.all<-rbind(fb.all,read.xls("facebook_coding.xlsx",sheet=i,header=FALSE))
}
names(fb.all)<-names(data)
fb.all$code
codes
data.all[which(fb.all$code %in% codes),]
fb.all<-fb.all[which(fb.all$code %in% codes),]
names(fb.all)
fb.all$picture<-factor(data.all$picture)
fb.all$link<-factor(data.all$link)
fb.all$code<-factor(fb.all$code)
fb.all$share<-as.numeric(fb.all$share)
fb.all$like<-as.numeric(fb.all$like)
fb.all$comment<-as.numeric(fb.all$comment)
for (i in 1:23){
fb.all<-rbind(fb.all,read.xls("facebook_coding.xlsx",sheet=i,header=FALSE))
}
fb.all<-data.frame()
for (i in 1:23){
fb.all<-rbind(fb.all,read.xls("facebook_coding.xlsx",sheet=i,header=FALSE))
}
names(fb.all)<-names(data)
fb.all<-fb.all[which(fb.all$code %in% codes),]
fb.all$picture<-factor(fb.all$picture)
fb.all$link<-factor(fb.all$link)
fb.all$code<-factor(fb.all$code)
fb.all$share<-as.numeric(fb.all$share)
fb.all$like<-as.numeric(fb.all$like)
fb.all$comment<-as.numeric(fb.all$comment)
fit <- lm(share ~ code + picture + link, data=fb.all)
summary(fit) # show results
fit <- lm(like ~ code + picture + link, data=fb.all)
summary(fit) # show results
fit <- lm(comment ~ code + picture + link, data=fb.all)
summary(fit)
fit <- lm(Retweet ~ Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit) # show results
twitter.all$photo0
twitter.all$photo
twitter.all$at<-as.numeric(twitter.all$at)
fit <- lm(Retweet ~ Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit)
twitter.all$Hashtags<-as.numeric(twitter.all$Hashtags)
fit <- lm(Retweet ~ Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit) # show results
fit <- lm(Retweet ~ Code +Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit)
fit <- lm(Favorite ~ Code +Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit) # show results
fit <- lm(share ~ code + picture + link, data=fb.all)
summary(fit)
summary(fit <- lm(share ~ code + picture + link, data=fb.all)
summary(fit))
fit <- lm(share ~ code + picture + link, data=fb.all)
summary(fit)
fit <- lm(like ~ code + picture + link, data=fb.all)
summary(fit)
fit <- lm(comment ~ code + picture + link, data=fb.all)
summary(fit)
fit <- lm(Retweet ~ Code +Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit)
fit <- lm(Favorite ~ Code +Hashtags + Reply + RT + at + photo + link, data=twitter.all)
summary(fit) # show results
